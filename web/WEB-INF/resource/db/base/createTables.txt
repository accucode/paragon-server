###############################################################
###############################################################
##
##  AUTO GENERATED - DO NOT EDIT
##
###############################################################
###############################################################


DROP TABLE IF EXISTS applicationLog;
CREATE TABLE applicationLog
(
    uid varchar(30),
    createdUtcTs datetime,
    loggerName varchar(100),
    context varchar(100),
    message varchar(100),
    levelName char(5),
    levelCode int,
    threadName varchar(100),
    trace text,
    primary key (uid)
) ENGINE = INNODB;
create index levelCode on applicationLog (levelCode, uid);
create index createdUtcTs on applicationLog (createdUtcTs, uid);


DROP TABLE IF EXISTS auditLog;
CREATE TABLE auditLog
(
    uid varchar(30),
    createdUtcTs datetime,
    transactionUid varchar(30),
    userName varchar(50),
    typeCode varchar(30),
    domainType varchar(50),
    domainName varchar(50),
    domainUid varchar(30),
    domainBundleUid varchar(30),
    fieldName varchar(50),
    newValue varchar(100),
    oldValue varchar(100),
    stringValue varchar(1000),
    integerValue int,
    longValue bigint,
    doubleValue double,
    moneyValue decimal(20,2),
    booleanValue char(1),
    dateValue date,
    timestampValue datetime,
    uidValue varchar(30),
    userUid varchar(30),
    primary key (uid)
) ENGINE = INNODB;
create index domainField on auditLog (domainUid, fieldName, createdUtcTs);
create index bundle on auditLog (domainBundleUid, uid);
create index domainType on auditLog (domainType);


DROP TABLE IF EXISTS autoLogin;
CREATE TABLE autoLogin
(
    uid varchar(30),
    createdUtcTs datetime,
    lastTouchedUtcTs datetime,
    lockVersion int,
    userUid varchar(30),
    primary key (uid)
) ENGINE = INNODB;


DROP TABLE IF EXISTS download;
CREATE TABLE download
(
    uid varchar(30),
    createdUtcTs datetime,
    name varchar(200),
    typeCode varchar(30),
    fileName varchar(50),
    bytes mediumblob,
    lockVersion int,
    userUid varchar(30),
    primary key (uid)
) ENGINE = INNODB;
create index created on download (createdUtcTs);


DROP TABLE IF EXISTS email;
CREATE TABLE email
(
    uid varchar(30),
    createdUtcTs datetime,
    updatedUtcTs datetime,
    sentUtcTs datetime,
    subject varchar(200),
    fromAddress varchar(50),
    statusCode varchar(30),
    errorNotes varchar(100),
    lockVersion int,
    createdByUid varchar(30),
    updatedByUid varchar(30),
    primary key (uid)
) ENGINE = INNODB;
create index status on email (statusCode, createdUtcTs);


DROP TABLE IF EXISTS emailPart;
CREATE TABLE emailPart
(
    uid varchar(30),
    createdUtcTs datetime,
    updatedUtcTs datetime,
    sequence int,
    typeCode varchar(30),
    attachmentName varchar(50),
    data mediumblob,
    lockVersion int,
    createdByUid varchar(30),
    updatedByUid varchar(30),
    emailUid varchar(30),
    primary key (uid)
) ENGINE = INNODB;
create index email on emailPart (emailUid);


DROP TABLE IF EXISTS emailRecipient;
CREATE TABLE emailRecipient
(
    uid varchar(30),
    createdUtcTs datetime,
    updatedUtcTs datetime,
    address varchar(50),
    typeCode varchar(30),
    lockVersion int,
    createdByUid varchar(30),
    updatedByUid varchar(30),
    emailUid varchar(30),
    primary key (uid)
) ENGINE = INNODB;
create index email on emailRecipient (emailUid);


DROP TABLE IF EXISTS fieldTest;
CREATE TABLE fieldTest
(
    uid varchar(30),
    createdUtcTs datetime,
    updatedUtcTs datetime,
    nameValue varchar(50),
    integerValue int,
    longTest bigint,
    doubleTest double,
    moneyTest decimal(20,2),
    booleanTest char(1),
    dateTest date,
    timestampTest datetime,
    pinNumber1 char(5),
    pinNumber2 char(5),
    duration bigint,
    dayFrequency char(7),
    lockVersion int,
    createdByUid varchar(30),
    updatedByUid varchar(30),
    userTestUid varchar(30),
    primary key (uid)
) ENGINE = INNODB;


DROP TABLE IF EXISTS file;
CREATE TABLE file
(
    uid varchar(30),
    createdUtcTs datetime,
    updatedUtcTs datetime,
    name varchar(100),
    path varchar(100),
    statusCode varchar(30),
    size int,
    partialSize int,
    lockVersion int,
    createdByUid varchar(30),
    updatedByUid varchar(30),
    primary key (uid)
) ENGINE = INNODB;


DROP TABLE IF EXISTS hibernateCacheTest;
CREATE TABLE hibernateCacheTest
(
    uid varchar(30),
    data varchar(1000),
    lockVersion int,
    primary key (uid)
) ENGINE = INNODB;


DROP TABLE IF EXISTS invitation;
CREATE TABLE invitation
(
    uid varchar(30),
    createdUtcTs datetime,
    updatedUtcTs datetime,
    typeCode varchar(30),
    statusCode varchar(30),
    closedUtcTs datetime,
    toEmail varchar(50),
    roleCode char(1),
    lockVersion int,
    createdByUid varchar(30),
    updatedByUid varchar(30),
    fromUserUid varchar(30),
    projectUid varchar(30),
    primary key (uid)
) ENGINE = INNODB;


DROP TABLE IF EXISTS optimisticLock;
CREATE TABLE optimisticLock
(
    name varchar(100),
    lockVersion int,
    primary key (name)
) ENGINE = INNODB;


DROP TABLE IF EXISTS passwordReset;
CREATE TABLE passwordReset
(
    uid varchar(30),
    createdUtcTs datetime,
    updatedUtcTs datetime,
    email varchar(50),
    token varchar(30),
    expirationUtcTs datetime,
    lockVersion int,
    createdByUid varchar(30),
    updatedByUid varchar(30),
    tenantUid varchar(30),
    primary key (uid)
) ENGINE = INNODB;
create index token on passwordReset (token);
create index expiration on passwordReset (expirationUtcTs);


DROP TABLE IF EXISTS patch;
CREATE TABLE patch
(
    name varchar(50),
    installedUtcTs datetime,
    source text,
    primary key (name)
) ENGINE = INNODB;


DROP TABLE IF EXISTS performanceLogDetail;
CREATE TABLE performanceLogDetail
(
    uid varchar(30),
    createdUtcTs datetime,
    name varchar(100),
    durationMs int,
    primary key (uid)
) ENGINE = INNODB;
create index name on performanceLogDetail (name);
create index createdUtcTs on performanceLogDetail (createdUtcTs, name);


DROP TABLE IF EXISTS performanceLogSummary;
CREATE TABLE performanceLogSummary
(
    uid varchar(30),
    utcDate date,
    name varchar(100),
    count int,
    minimumMs int,
    maximumMs int,
    averageMs int,
    totalMs int,
    primary key (uid)
) ENGINE = INNODB;
create unique index date on performanceLogSummary (utcDate, name);
create index name on performanceLogSummary (name, utcDate);


DROP TABLE IF EXISTS project;
CREATE TABLE project
(
    uid varchar(30),
    createdUtcTs datetime,
    updatedUtcTs datetime,
    name varchar(50),
    code char(5),
    companyName varchar(50),
    sendEmailFrom varchar(50),
    active char(1),
    catalogVersion int,
    businessDays char(7),
    businessStartTime time,
    businessEndTime time,
    lockVersion int,
    createdByUid varchar(30),
    updatedByUid varchar(30),
    tenantUid varchar(30),
    primary key (uid)
) ENGINE = INNODB;
create unique index projectName on project (tenantUid, name);
create unique index projectCode on project (tenantUid, code);


DROP TABLE IF EXISTS serverSession;
CREATE TABLE serverSession
(
    uid varchar(30),
    active char(1),
    createdUtcTs datetime,
    closedUtcTs datetime,
    lastTouchedUtcTs datetime,
    version varchar(50),
    lockVersion int,
    tenantUid varchar(30),
    userUid varchar(30),
    autoLoginUid varchar(30),
    primary key (uid)
) ENGINE = INNODB;


DROP TABLE IF EXISTS settings;
CREATE TABLE settings
(
    code int,
    someMessage varchar(100),
    lockVersion int,
    primary key (code)
) ENGINE = INNODB;


DROP TABLE IF EXISTS tenant;
CREATE TABLE tenant
(
    uid varchar(30),
    createdUtcTs datetime,
    name varchar(50),
    hostname varchar(50),
    themeCode varchar(50),
    intacctCompanyId varchar(50),
    intacctUserId varchar(50),
    intacctUserPassword varchar(50),
    lockVersion int,
    primary key (uid)
) ENGINE = INNODB;


DROP TABLE IF EXISTS threadTopic;
CREATE TABLE threadTopic
(
    code varchar(50),
    ownerUid varchar(30),
    hostName varchar(50),
    hostAddress varchar(50),
    lastStartUtcTs datetime,
    lastEndUtcTs datetime,
    lastTouchUtcTs datetime,
    lockVersion int,
    primary key (code)
) ENGINE = INNODB;


DROP TABLE IF EXISTS user;
CREATE TABLE user
(
    uid varchar(30),
    createdUtcTs datetime,
    updatedUtcTs datetime,
    firstName varchar(50),
    lastName varchar(50),
    nickname varchar(50),
    email varchar(50),
    passwordSalt varchar(30),
    passwordHash varchar(40),
    phone varchar(30),
    active char(1),
    timeZoneCode varchar(40),
    roleCode varchar(30),
    dashboardOrientationTypeCode varchar(30),
    dashboardLineCount1 int,
    dashboardLineCount2 int,
    dashboardPanelCodeA varchar(30),
    dashboardPanelCodeB varchar(30),
    dashboardPanelCodeC varchar(30),
    dashboardPanelCodeD varchar(30),
    dashboardPanelCodeE varchar(30),
    dashboardPanelCodeF varchar(30),
    dashboardPanelCodeG varchar(30),
    lockVersion int,
    createdByUid varchar(30),
    updatedByUid varchar(30),
    tenantUid varchar(30),
    lastProjectUid varchar(30),
    primary key (uid)
) ENGINE = INNODB;
create unique index email on user (tenantUid, email);


DROP TABLE IF EXISTS userActivation;
CREATE TABLE userActivation
(
    uid varchar(30),
    createdUtcTs datetime,
    updatedUtcTs datetime,
    email varchar(50),
    token varchar(30),
    expirationUtcTs datetime,
    lockVersion int,
    createdByUid varchar(30),
    updatedByUid varchar(30),
    tenantUid varchar(30),
    primary key (uid)
) ENGINE = INNODB;
create index token on userActivation (token);
create index expiration on userActivation (expirationUtcTs);


