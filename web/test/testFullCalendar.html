<!DOCTYPE html>

<html>
<head>
    <title>Full Calendar Test</title>
    
    <meta http-equiv="Content-Type"     content="text/html; charset=UTF-8">
    <meta http-equiv="Cache-Control"    content="no-cache">
    <meta http-equiv="Pragma"           content="no-cache">
    <meta http-equiv="Expires"          content="-1">

<!-- BEGIN_STANDARD_HEADER -->
    <!-- imported from testStandardHeader.html -->

    <!-- reset -->
    <link rel="stylesheet" type="text/css" href="../static/version/app/common/css/reset.css">

    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">

    <!-- jquery (not deferred) -->
    <script src="../static/version/jquery/core/jquery-1.10.2.min.js"></script>
    <script src="../static/version/jquery/core/jquery-migrate-1.2.1.min.js"></script>

    <!-- jquery ui -->
    <link rel="stylesheet" type="text/css" href="../static/version/jquery/jquery-ui-1.11.1/jquery-ui.min.css">
    <script defer src="../static/version/jquery/jquery-ui-1.11.1/jquery-ui.min.js"></script>

    <!-- color picker -->
    <link rel="stylesheet" type="text/css" href="../static/version/jquery/colorpicker-09.05.23/css/colorpicker.css">
    <script defer src="../static/version/jquery/colorpicker-09.05.23/js/colorpicker.js"></script>

    <!-- flexigrid -->
    <link rel="stylesheet" type="text/css" href="../static/version/jquery/flexigrid-1.1/css/flexigrid.pack.css">
    <script defer src="../static/version/jquery/flexigrid-1.1/js/flexigrid.js"></script>

    <!-- akquinet toasts -->
    <link rel="stylesheet" type="text/css" href="../static/version/jquery/akquinet-0.2.0-13/resources/css/jquery.toastmessage.css">
    <script defer src="../static/version/jquery/akquinet-0.2.0-13/javascript/jquery.toastmessage.js"></script>

    <!-- block ui -->
    <script defer src="../static/version/jquery/blockUi-2.64.0/jquery.blockUI.js"></script>

    <!-- cookie -->
    <script defer src="../static/version/jquery/js-cookie-2.1.0/js.cookie.js"></script>

    <!-- transit -->
    <script defer src="../static/version/jquery/transit-0.9.9/jquery.transit-0.9.9.min.js"></script>

    <!-- dropzone -->
    <link rel="stylesheet" type="text/css" href="../static/version/dropzone-4.3.0/dropzone.css">
    <script defer src="../static/version/dropzone-4.3.0/dropzone.js"></script>

    <!-- json -->
    <script defer src="../static/version/json-2010.11.18/json2.js"></script>

    <!-- Code39 Azalea -->
    <!-- <link rel="stylesheet" type="text/css" href="../static/version/azaleaCode39/Code39Azalea.min.css"> -->

    <!-- history -->
    <script defer src="../static/version/jquery/history-1.8.6/scripts/bundled-uncompressed/html5/jquery.history.js"></script>

    <!-- scroll to -->
    <script defer src="../static/version/jquery/scrollto-1.4.3.1/jquery.scrollTo-1.4.3.1-min.js"></script>

    <!-- visible -->
    <script defer src="../static/version/jquery/jquery-visible-master/jquery.visible.js"></script>

    <!-- splitter -->
    <link rel="stylesheet" type="text/css" href="../static/version/jquery/jcubic-splitter-0.14.0/css/jquery.splitter.css">
    <script defer src="../static/version/jquery/jcubic-splitter-0.14.0/js/jquery.splitter-0.14.0.js"></script>

    <!-- nvd3 charts 1.1.10 -->
    <link rel="stylesheet" type="text/css" href="../static/version/nvd3-1.1.10/src/nv.d3.css">
    <script defer src="../static/version/nvd3-1.1.10/lib/d3.v3.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/nv.d3.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/src/tooltip.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/src/utils.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/src/interactiveLayer.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/src/models/legend.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/src/models/axis.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/src/models/line.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/src/models/lineChart.js"></script>

    <!-- ckEditor -->
    <script defer src="../static/version/ckeditor-4.5.11/ckeditor.js"></script>
    <script defer src="../static/version/ckeditor-4.5.11/adapters/jquery.js"></script>

    <!-- moment -->
    <script defer src="../static/version/moment/moment-2.14.1.min.js"></script>
    <script defer src="../static/version/moment/moment-timezone-with-data-0.5.5.js"></script>

    <!-- full calendar -->
    <link rel="stylesheet" type="text/css" href="../static/version/fullcalendar-3.0.0/fullcalendar.min.css">
    <script defer src="../static/version/fullcalendar-3.0.0/fullcalendar.min.js"></script>

    <!-- html2canvas -->
    <script src="../static/version/html2canvas-0.5.0-a1/html2canvas.js"></script>

    <!-- popr -->
    <link rel="stylesheet" type="text/css" href="../static/version/jquery/popr-1.0.0/popr.css">
    <script src="../static/version/jquery/popr-1.0.0/popr.js"></script>

    <!-- kodemore -->
    <script defer src="../static/version/app/common/script/kmExtensions.js"></script>
    <script defer src="../static/version/app/common/script/kmu.js"></script>
    <script defer src="../static/version/app/common/script/kmNavigator.js"></script>
    <script defer src="../static/version/app/common/script/kmDropdownMenu.js"></script>
    <script defer src="../static/version/app/common/script/kmTimeAgo.js"></script>
    <script defer src="../static/version/app/common/script/kmDateAgo.js"></script>
    <script defer src="../static/version/app/common/script/kmClock.js"></script>

    <!-- app -->
    <link rel="stylesheet" type="text/css" href="../static/version/app/theme/default/css/theme.css">
<!-- END_STANDARD_HEADER -->
    
    <!-- full calendar -->
    <link rel="stylesheet" type="text/css" href="../static/version/fullcalendar-2.4.0/fullcalendar.min.css">
    <script src="../static/version/fullcalendar-2.4.0/moment.min.js"></script>
    <script src="../static/version/fullcalendar-2.4.0/fullcalendar.min.js"></script>
    
    <script type="text/javascript">

    var index = 1;
    
        function myLoad()
        {
            $('#calendar').fullCalendar({
            	header: {
            		left: 'prev,next,today',
            		center: 'title',
            		right: 'month,agendaWeek,agendaDay'
            	},
            	businessHours: {
            		start: '08:30:00',
            		end: '19:30:00',
            		dow: [1,2,3,4]
            	},
            	defaultDate: '2015-11-01',
                editable: true,
                selectable: true,
                selectHelper: false,
                eventLimit: true,
                select: function(start, end) {
                	start = $.fullCalendar.moment(start).toISOString();
                	end = $.fullCalendar.moment(end).toISOString();
                	
                	var eventData = {
            			title: 'New Event ' + index,
                        start: start,
                        end: end
                	}
                	
                	$('#calendar').fullCalendar('renderEvent',eventData, true);
                	$('#calendar').fullCalendar('unselect');
                	
                	index++;
                },
            	eventDrop: function(event) {
                	console.log("Event dropped:");
                	
            	    console.log("Id: " + event.id);
            	    console.log("Title: " + event.title);
            	    console.log("Start: " + event.start.toISOString());
                },
                eventClick: function(event) {
                	console.log("click");
                	
            	    console.log("Id: " + event.id);
            	    console.log("Title: " + event.title);
                }
            });
        }

        function handleAddAll()
        {
            $('#calendar').fullCalendar(
            	'addEventSource',
            	{
                events: [
                    {
                    	'id': '1',
                    	'title': 'Birthday',
                    	'start': '2015-11-14T00:00:00',
                    	'end': '2015-11-14T00:00:00',
                    	'color': 'green'
                    },
                    {
                    	'id': '2',
                    	'title': 'Lunch',
                    	'start': '2015-11-14T14:00:00',
                    	'color': '#ff0000'
                    },
                    {
                    	'id': '3',
                    	'title': 'Thanksgiving',
                    	'start': '2015-11-26',
                    	'url': 'http://google.com'
                    },
                    {
                    	'id': '4',
                    	'title': 'Vacation',
                    	'start': '2015-11-20',
                    	'end': '2015-11-30',
                    }
               ]
               }
    		);
        }
        
        function handleRemoveAll()
        {
            $('#calendar').fullCalendar(
        		  'removeEvents'
            );
        }
        
        function handleAddOne()
        {
            $('#calendar').fullCalendar( 'renderEvent',
        		{
                	'id': '10',
                    'title': 'Test Add/Remove',
                    'start': '2015-11-20'
        		},
        		true
    		);
        }
        
        function handleRemoveOne()
        {
            $('#calendar').fullCalendar('removeEvents', '10');
            $('#calendar').fullCalendar('renderEvent',
        		{
                	'id': '10',
                    'title': 'Test Add/Remove',
                    'start': '2015-11-20',
                    'color': 'red'
        		},
        		true
    		);
        }
        
        function handleGet()
        {
        	var output = '';
            var events = $('#calendar').fullCalendar('clientEvents');
            
            var event
            
            for( i=0, n = events.length; i < n; i++)
        	{
                event = events[i];
                
                output += '[';
            	
                output += 'Title: ' + event.title;
                output += ', ';
                output += 'Start: ' + $.fullCalendar.moment(event.start).toISOString();
                output += ', ';
                output += 'End: ' + $.fullCalendar.moment(event.end).toISOString();
                
                output += ']';
        	}
            
            $('#out').text(output);
        }
    </script>
    
</head>

<body onload='myLoad();'>

<div id="main">

<form id="form">

    <h1>Full Calendar Test</h1>
    <br>
    <div id='calendar' style="width:1000px;"></div>
    <br>
    <button type="button" class="button button-element-default" onclick="handleAddAll();">
        Add Events
    </button>
    <button type="button" class="button button-element-default" onclick="handleRemoveAll();">
        Remove All
    </button>
    <button type="button" class="button button-element-default" onclick="handleGet();">
        Get Events
    </button>
    <button type="button" class="button button-element-default" onclick="handleAddOne();">
        Add Test
    </button>
    <button type="button" class="button button-element-default" onclick="handleRemoveOne();">
        Remove Test
    </button>
    <br>
    <div id='out'></div>
    
</form>

</div>


</body>
</html>
