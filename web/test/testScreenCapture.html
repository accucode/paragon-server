<!DOCTYPE html>

<html>
<head>
    <title>TEST</title>

    <meta http-equiv="Content-Type"     content="text/html; charset=UTF-8">
    <meta http-equiv="Cache-Control"    content="no-cache">
    <meta http-equiv="Pragma"           content="no-cache">
    <meta http-equiv="Expires"          content="-1">

<!-- BEGIN_STANDARD_HEADER -->
    <!-- imported from testStandardHeader.html -->

    <!-- reset -->
    <link rel="stylesheet" type="text/css" href="../static/version/app/common/css/reset.css">

    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">

    <!-- jquery (not deferred) -->
    <script src="../static/version/jquery/core/jquery-1.10.2.min.js"></script>
    <script src="../static/version/jquery/core/jquery-migrate-1.2.1.min.js"></script>

    <!-- jquery ui -->
    <link rel="stylesheet" type="text/css" href="../static/version/jquery/jquery-ui-1.11.1/jquery-ui.min.css">
    <script defer src="../static/version/jquery/jquery-ui-1.11.1/jquery-ui.min.js"></script>

    <!-- color picker -->
    <link rel="stylesheet" type="text/css" href="../static/version/jquery/colorpicker-09.05.23/css/colorpicker.css">
    <script defer src="../static/version/jquery/colorpicker-09.05.23/js/colorpicker.js"></script>

    <!-- flexigrid -->
    <link rel="stylesheet" type="text/css" href="../static/version/jquery/flexigrid-1.1/css/flexigrid.pack.css">
    <script defer src="../static/version/jquery/flexigrid-1.1/js/flexigrid.js"></script>

    <!-- akquinet toasts -->
    <link rel="stylesheet" type="text/css" href="../static/version/jquery/akquinet-0.2.0-13/resources/css/jquery.toastmessage.css">
    <script defer src="../static/version/jquery/akquinet-0.2.0-13/javascript/jquery.toastmessage.js"></script>

    <!-- block ui -->
    <script defer src="../static/version/jquery/blockUi-2.64.0/jquery.blockUI.js"></script>

    <!-- cookie -->
    <script defer src="../static/version/jquery/js-cookie-2.1.0/js.cookie.js"></script>

    <!-- transit -->
    <script defer src="../static/version/jquery/transit-0.9.9/jquery.transit-0.9.9.min.js"></script>

    <!-- dropzone -->
    <link rel="stylesheet" type="text/css" href="../static/version/dropzone-4.3.0/dropzone.css">
    <script defer src="../static/version/dropzone-4.3.0/dropzone.js"></script>

    <!-- json -->
    <script defer src="../static/version/json-2010.11.18/json2.js"></script>

    <!-- Code39 Azalea -->
    <!-- <link rel="stylesheet" type="text/css" href="../static/version/azaleaCode39/Code39Azalea.min.css"> -->

    <!-- history -->
    <script defer src="../static/version/jquery/history-1.8.6/scripts/bundled-uncompressed/html5/jquery.history.js"></script>

    <!-- scroll to -->
    <script defer src="../static/version/jquery/scrollto-1.4.3.1/jquery.scrollTo-1.4.3.1-min.js"></script>

    <!-- visible -->
    <script defer src="../static/version/jquery/jquery-visible-master/jquery.visible.js"></script>

    <!-- splitter -->
    <link rel="stylesheet" type="text/css" href="../static/version/jquery/jcubic-splitter-0.14.0/css/jquery.splitter.css">
    <script defer src="../static/version/jquery/jcubic-splitter-0.14.0/js/jquery.splitter-0.14.0.js"></script>

    <!-- nvd3 charts 1.1.10 -->
    <link rel="stylesheet" type="text/css" href="../static/version/nvd3-1.1.10/src/nv.d3.css">
    <script defer src="../static/version/nvd3-1.1.10/lib/d3.v3.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/nv.d3.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/src/tooltip.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/src/utils.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/src/interactiveLayer.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/src/models/legend.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/src/models/axis.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/src/models/line.js"></script>
    <script defer src="../static/version/nvd3-1.1.10/src/models/lineChart.js"></script>

    <!-- ckEditor -->
    <script defer src="../static/version/ckeditor-4.5.11/ckeditor.js"></script>
    <script defer src="../static/version/ckeditor-4.5.11/adapters/jquery.js"></script>

    <!-- moment -->
    <script defer src="../static/version/moment/moment-2.14.1.min.js"></script>
    <script defer src="../static/version/moment/moment-timezone-with-data-0.5.5.js"></script>

    <!-- full calendar -->
    <link rel="stylesheet" type="text/css" href="../static/version/fullcalendar-3.0.0/fullcalendar.min.css">
    <script defer src="../static/version/fullcalendar-3.0.0/fullcalendar.min.js"></script>

    <!-- html2canvas -->
    <script src="../static/version/html2canvas-0.5.0-a1/html2canvas.js"></script>

    <!-- popr -->
    <link rel="stylesheet" type="text/css" href="../static/version/jquery/popr-1.0.0/popr.css">
    <script src="../static/version/jquery/popr-1.0.0/popr.js"></script>

    <!-- kodemore -->
    <script defer src="../static/version/app/common/script/kmExtensions.js"></script>
    <script defer src="../static/version/app/common/script/kmu.js"></script>
    <script defer src="../static/version/app/common/script/kmNavigator.js"></script>
    <script defer src="../static/version/app/common/script/kmDropdownMenu.js"></script>
    <script defer src="../static/version/app/common/script/kmTimeAgo.js"></script>
    <script defer src="../static/version/app/common/script/kmDateAgo.js"></script>
    <script defer src="../static/version/app/common/script/kmClock.js"></script>

    <!-- app -->
    <link rel="stylesheet" type="text/css" href="../static/version/app/theme/default/css/theme.css">
<!-- END_STANDARD_HEADER -->

    <style type="text/css">
        #pageLoadMessage
        {
            font: italic bold 30px sans-serif;
            position: fixed;
            left:   0;
            right:  0;
            top:    0;
            height: 50px;
            padding: 10px;
            background: linear-gradient(#aaa, #f8f8f8);
        }
    </style>

    <script>
    function test(src)
    {
        Kmu.screenCapture(
        {
            source: src,
            targetUrlField: '#url',
            targetBase64Field: '#base64',
            targetImage: '#image'
        });
    }
    </script>
</head>

<body class="auto">
<div id="header" style="border:1px solid blue; padding:5px;">
    <b>Screen Capture</b><br>
    <br>
    Demonstrate the use of html2canvas combined with canvas.toDataURL to
    capture the screen, and convert it to a base64 string.  The resulting
    string is placed into the textarea when you push the "Test" button.

    Using java 8 you can convert the base64 string into a png byte array with...
    java.util.Base64.getDecoder().decode(src).
</div>
<br>

<table>
<tr>
    <td id="fields" class="borderPurple">
        <div>
            <input type="checkbox" id="cb" name="cb" value="a" checked>checkbox<br>

            <input type="radio" id="ra" name="radio" value="a" checked>aaa
            <input type="radio" id="rb" name="radio" value="a">bbb
            <br>

            <input type="text" id="text" name="text" value="test"><br>

            <select id="select" name="select" multiple="multiple">
                <option selected="selected">text1</option>
                <option>text2</option>
                <option>text3</option>
                <option>text4</option>
                <option>text5</option>
             </select>
             <br>
             <br>
             textarea<br>
             <textarea id="textarea" name="textarea" rows=5 cols=40 data-old-value="one&#10;two"></textarea>
             <input type="hidden" id="h" value="abc"><br>
        </div>
    </td>
    <td id="absolute" class="borderGreen">
        <div class="relative" style="width:300px; height:300px;">
            <div class="absolute boxBrown" style="left:0;right:0;bottom:0;height:50px">
                absolute layout anchored to bottom
            </div>
        </div>
    </td>
</tr>
</table>
<br>

<button onclick='location.reload(true);'>refresh</button>
<button onclick="test();">capture page</button>
<button onclick="test('#header');">capture header</button>
<button onclick="test('#fields');">capture fields</button>
<button onclick="test('#absolute');">capture absolute</button>
<br>
<br>

<hr>
<div id="result" class="backgroundWhite borderBlack margin pad">
    <b>Capture Results</b>
    <table>
        <tr>
            <td class="pad">
                <b>URL</b><br>
                <textarea id="url" rows=4 cols=30></textarea>
            </td>
            <td class="pad">
                <b>Base64</b><br>
                <textarea id="base64" rows=4 cols=30></textarea>
            </td>
        </tr>
    </table>

    <div class="pad">
        <b>Image</b><br>
        <img id="image"></img>
    </div>
</div>

</body>
</html>
